(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),c=a.n(r),o=(a(15),a(2)),s=a(3),l=a(5),m=a(4),d=a(1),u=a(6),p=(a(7),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={zipcode:""},a.inputChanged=a.inputChanged.bind(Object(d.a)(a)),a.submitZipCode=a.submitZipCode.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"inputChanged",value:function(e){var t=e.target.value;this.setState({zipcode:t})}},{key:"submitZipCode",value:function(e){e.preventDefault();var t=this.state.zipcode;(0,this.props.onSubmit)(t),this.setState({zipcode:""})}},{key:"render",value:function(){return i.a.createElement("div",{className:"zip-form"},i.a.createElement("form",{onSubmit:this.submitZipCode,id:"zipForm"},i.a.createElement("div",{className:"flex-parent"},i.a.createElement("label",{htmlFor:"zipcode"},"Zip"),i.a.createElement("input",{onChange:this.inputChanged,className:"form-control",type:"input",id:"zipcode",name:"zipcode",value:this.state.zipcode,required:!0}),i.a.createElement("button",{type:"submit",className:"btn btn-success"}," Get the forcast!"))))}}]),t}(n.Component)),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getWeekday",value:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}},{key:"render",value:function(){var e=this.props,t=e.city,a=e.forecastDay,n=new Date(1e3*a.dt),r=this.getWeekday(n);return i.a.createElement("div",{className:"current-day"},i.a.createElement("h1",{className:"day-header"},r," in ",t.name),i.a.createElement("div",{className:"weather"},i.a.createElement("p",null,i.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(a.icon,".png"),alt:a.description}),a.description)),i.a.createElement("div",{className:"details flex-parent"},i.a.createElement("div",{className:"temperature-breakdown"},i.a.createElement("p",null,"Morning Temperature: ",a.morningTemp,"\xb0F"),i.a.createElement("p",null,"Day Temperature: ",a.dayTemp,"\xb0F"),i.a.createElement("p",null,"Evening Temperature: ",a.eveningTemp,"\xb0F"),i.a.createElement("p",null,"Night Temperature: ",a.nightTemp,"\xb0F")),i.a.createElement("div",{className:"misc-details"},i.a.createElement("p",null,"Atmospheric Pressure: ",a.pressure," hPa"),i.a.createElement("p",null,"Humidity: ",a.humidity,"%"),i.a.createElement("p",null,"Wind Speed: ",a.wind," mph"))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a.onClick=a.onClick.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){var e=this.props;(0,e.onDayClicked)(e.index)}},{key:"render",value:function(){var e=this.props.forecastDay,t=new Date(1e3*e.dt),a=e.weekday;return i.a.createElement("div",{className:"weather-list-item",onClick:this.onClick},i.a.createElement("h2",null,t.getMonth()+1," / ",t.getDate()),i.a.createElement("h3",null,a),i.a.createElement("h3",null,e.minTemp.toFixed(1),"\xb0F | ",e.maxTemp.toFixed(1),"\xb0F"))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forecastDays,a=e.onDayClicked;return i.a.createElement("div",{className:"weather-list flex-parent"},t.map((function(e,t){return i.a.createElement(y,{key:e.dt,forecastDay:e,index:t,onDayClicked:a})})))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={zipcode:"",city:{},forecast:[],simpleForecast:[],selectedDate:null},a.onFormSubmit=a.onFormSubmit.bind(Object(d.a)(a)),a.onDayClicked=a.onDayClicked.bind(Object(d.a)(a)),a.onClick=a.onClick.bind(Object(d.a)(a)),a.url="http://api.openweathermap.org/data/2.5/forecast?zip=",a.apikey="&units=imperial&appid=590d2fae6eb81b114b12cccd3f77d51b",a.googleApiKey="AIzaSyC1HTCZ6mUEKFuuLHPLdE1zM2_Q7j0vxhk",a.googleMapsUrl="https://maps.googleapis.com/maps/api/timezone/json?location=",a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDayClicked",value:function(e){this.setState({selectedDate:e})}},{key:"onClick",value:function(){var e=this.props;(0,e.onDayClicked)(e.index)}},{key:"parseForecast",value:function(e,t){for(var a=[],n=this.getIndexOfMidnight(e[0].dt,t);n<e.length-7;n+=8){var i={};i.dt=e[n+4].dt,i.temp=e[n+4].main.temp,i.minTemp=this.findMinTemp(e,n),i.maxTemp=this.findMaxTemp(e,n),i.morningTemp=e[n+2].main.temp,i.dayTemp=e[n+4].main.temp,i.eveningTemp=e[n+6].main.temp,i.nightTemp=e[n+7].main.temp,i.description=e[n+4].weather[0].description,i.icon=e[n+4].weather[0].icon,i.pressure=e[n+4].main.pressure,i.wind=e[n+4].wind.speed,i.humidity=e[n+4].main.humidity,i.date=new Date(1e3*i.dt),i.month=i.date.getMonth()+1,i.day=i.date.getDay(),i.weekday=[4],i.weekday[0]="Sunday",i.weekday[1]="Monday",i.weekday[2]="Tuesday",i.weekday[3]="Wednesday",i.weekday[4]="Thursday",i.weekday[5]="Friday",i.weekday[6]="Saturday",i.weekday=i.weekday[i.day],a.push(i)}return console.log(e),a}},{key:"onFormSubmit",value:function(e){var t=this;fetch("".concat(this.url).concat(e).concat(this.apikey)).then((function(e){return e.json()})).then((function(a){var n=a.city,i=a.list;fetch("".concat(t.googleMapsUrl,"\n              ").concat(n.coord.lat,",").concat(n.coord.lon,"\n              &timestamp=").concat(i[0].dt,"\n              &key=").concat(t.googleApiKey)).then((function(e){return e.json()})).then((function(a){console.log(a);var r=(a.rawOffset+a.dstOffset)/3600,c=t.parseForecast(i,r);e="",t.setState({zipcode:e,city:n,forecast:i,simpleForecast:c,selectedDate:null})})).catch((function(e){alert("There was a problem getting timezone info!")}))})).catch((function(e){alert("There was a problem getting info!")}))}},{key:"getIndexOfMidnight",value:function(e,t){var a=new Date(1e3*e).getUTCHours()+t;return a>2?Math.round((24-a)/3):Math.abs(Math.round(a/3))}},{key:"findMinTemp",value:function(e,t){for(var a=e[t].main.temp_min,n=t+1;n<t+8;n++)e[n].main.temp_min<a&&(a=e[n].main.temp_min);return a}},{key:"findMaxTemp",value:function(e,t){for(var a=e[t].main.temp_max,n=t+1;n<t+8;n++)e[n].main.temp_max>a&&(a=e[n].main.temp_max);return a}},{key:"render",value:function(){var e=this.state,t=e.simpleForecast,a=e.city,n=e.selectedDate;return i.a.createElement("div",{id:"app-container"},i.a.createElement("div",{className:"app"},i.a.createElement(p,{onSubmit:this.onFormSubmit}),i.a.createElement(f,{forecastDays:t,onDayClicked:this.onDayClicked}),null!==n&&i.a.createElement(h,{forecastDay:t[n],city:a})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.3df306f1.chunk.js.map